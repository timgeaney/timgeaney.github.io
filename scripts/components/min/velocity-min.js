!function(){function t(){$(document).on("touchmove","body",function(t){t.preventDefault()})}function e(){$(document).off("touchmove","body")}var a=!1,i=!1,o=-1,n=$("article > div").attr("data-side-width");t();var r=function(){var c=$(this).scrollTop();if(c>5||i){if(!a){a=!0,window.clearInterval(o);var d=$("body").attr("data-articleintro");d&&""!=d||alert("Missing 'data-articleintro' attribute from the <body> tag"),"push"==d&&$("div.header-img").velocity({translateY:"-60%",opacity:0,scale:.8},{duration:800,queue:!1,easing:[.7,0,.3,1]}),"jam"==d&&$("div.header-img").velocity({translateY:"-75%",opacity:.3},{duration:500,queue:!1,easing:"ease-out"}),"side"==d&&($("article > div").css("width","50%"),$("article > div").velocity({translateX:"-25%"},{duration:0}),$("div.header-img").velocity({translateX:"70%"},{duration:500,easing:[.7,0,.3,1]}),n&&""!=n||alert("To use the side effect you need to set a data-side-width attribute on the article <div>.\n\nOtherwise we don't know what width to return the content to later.")),$("article.velocity").velocity({translateY:"0px",opacity:1},{duration:575,queue:!1,delay:200,easing:"ease-in-out",complete:function(){i&&$(document).scrollTop(2),e(),i=!1}}),o=setInterval(r,100)}}else if(1>=c&&a){window.clearInterval(o),$("article.velocity").velocity({translateY:"0px",opacity:0},{duration:400,queue:!1,easing:"ease-out"});var d=$("body").attr("data-articleintro");"push"==d&&$("div.header-img").velocity({translateY:"0",opacity:1,scale:1},{duration:700,queue:!1,easing:[.7,0,.3,1]}),"jam"==d&&$("div.header-img").velocity({translateX:"0",translateY:"0",scale:1,opacity:1},{duration:700,queue:!1,easing:[.7,0,.3,1]}),"side"==d&&($("div.header-img").velocity({translateX:"0"},{duration:700,delay:200,queue:!1,easing:[.7,0,.3,1],complete:function(){$("article > div").css("width",n)}}),$("article > div").velocity({translateX:"0"},{duration:800,queue:!1})),a=!1,$("#chooseEffect").velocity({opacity:1}),o=setInterval(r,100),t()}};o=setInterval(r,100),$(document).on("touchmove","body > header",function(){0!=$(window).scrollTop()||i||a||(i=!0,r())})}();